---
title: ç½‘é¡µå°è¯´åˆ¶ä½œ kindle ç”µå­ä¹¦
date: 2020-01-04
updated:
categories: å·¥å…·
slug:  
tag:
  - kindle
  - ç”µå­ä¹¦
copyright: true
comment: true
---

## å¼„å•¥å’§

ä¸Šä¸ªæœˆçœ‹å®Œäº†[å¿ƒç†æµ‹é‡è€…](https://zh.wikipedia.org/zh/PSYCHO-PASS)åŠ¨ç”»ç¬¬ä¸€å­£å’Œç¬¬äºŒå­£ï¼Œå‰§åœºç‰ˆè¿˜æœ‰åˆšåˆšå®Œç»“çš„ç¬¬ä¸‰å­£ã€‚çœ‹å®Œä¹‹åå¯¹è¿™éƒ¨ä½œå“æƒ³æ›´åŠ æ·±å…¥åœ°äº†è§£ä¸€ä¸‹ã€‚å¯¹åä¹Œæ‰˜é‚¦é¢˜æçš„ä½œå“ä¹Ÿæ›´åŠ æ„Ÿå…´è¶£äº†ï¼Œå°±åƒä¹‹å‰çœ‹çš„ã€Š1984ã€‹ã€ã€Šç¾ä¸½æ–°ä¸–ç•Œã€‹ç­‰ç­‰ã€‚ç»¼åˆæœ€è¿‘è¯»è¿‡çš„ä¹¦ï¼Œä»¥åŠç”Ÿæ´»ä¸­çš„é­é‡ï¼Œå‡†å¤‡å†™ä¸€ç¯‡ä¸‡å­—å·¦å³çš„æ„Ÿæƒ³ã€‚ï¼ˆ:åˆæŒ–å‘å•¦ğŸ˜‚

å»äºšé©¬é€Š kindle å•†åº—é‡Œæ‰¾äº†æ‰¾å¹¶æ²¡æœ‰ä¸­æ–‡ç‰ˆï¼Œæœäº†ä¸€ä¸‹è²Œä¼¼ä¹Ÿæ²¡ä¸æ‰¾åˆ°çº¸è´¨å‡ºç‰ˆçš„ä¸­æ–‡ç‰ˆã€‚è¯»åŸæ–‡æ˜¯ä¸å¯èƒ½çš„å•¦ï¼Œæ—¥æœ¬è¯­è‹¦æ‰‹ğŸ˜‚ã€‚åªèƒ½å»æ‰¾ç°æœ‰çš„èµ„æºäº†ï¼Œåœ¨ [äº²å°è¯´](http://www.qinxiaoshuo.com/book/PSYCHO-PASSå¿ƒç†æµ‹é‡è€…) ç½‘ç«™ä¸Šæ‰¾åˆ°äº†èµ„æºğŸ˜‚ï¼Œä½†å¹¶æ²¡æœ‰ä¸‹è½½å…¨æ–‡çš„é€‰é¡¹ï¼Œå¯¹äºå’±è¿™ç§é æŠ€æœ¯æ¬ç –çš„ç¤¾ç•œæ¥è®²ï¼Œè¿˜æ˜¯æ‹’ç»å½“ä¼¸æ‰‹å…šï¼ŒæŠŠè¿™äº›æ–‡æœ¬æŠ“å–ä¸‹æ¥ï¼Œè‡ªå·±åˆ¶ä½œä¸€ä¸ª mobi æ ¼å¼çš„ç”µå­ä¹¦çœ‹å§ã€‚

![image-20200103094338061](https://img.502.li/image-20200103094338061.png)

çœ‹äº†ä¸€ä¸‹ï¼Œå¿ƒç†æµ‹é‡è€…è¿™æœ¬ä¹¦çš„ [ç›®å½•é¡µé¢](http://www.qinxiaoshuo.com/book/PSYCHO-PASSå¿ƒç†æµ‹é‡è€…) åŒ…å«äº†æ‰€æœ‰çš„ç« èŠ‚ï¼Œå°±æƒ³åˆ°äº†å¤§è‡´æ€è·¯ã€‚

- ä»è¿™æœ¬ä¹¦çš„ç›®å½•é¡µé¢è¿‡æ»¤å‡ºæ¥æ‰€æœ‰ç« èŠ‚çš„ URL
- åˆ†æå„ä¸ªç« èŠ‚çš„æºç ï¼Œè¿‡æ»¤å‡ºä¸­æ–‡å°è¯´æ–‡æœ¬å†…å®¹
- shell è„šæœ¬ for å¾ªç¯ï¼Œé€šè¿‡ curl éå†ä¸Šä¸€æ­¥è·å–åˆ°çš„ URL ï¼Œé€šè¿‡å…³é”®å­—è¿‡æ»¤å‡ºä¸­æ–‡æ–‡æœ¬
- è·å–å®Œå…¨éƒ¨ç« èŠ‚çš„æ–‡æœ¬ä¹‹åï¼Œåˆ†æä¸€ä¸‹æ–‡æœ¬ï¼Œæ·»åŠ  `<h2>` æ ‡ç­¾äºŒçº§æ ‡é¢˜ï¼Œæ–¹ä¾¿ç”Ÿæˆç›®å½•
- å®Œæˆä¸Šè¿°æ­¥éª¤åï¼Œç”Ÿæˆçš„æ–‡æœ¬ä¸­è¿˜æœ‰å¤§é‡çš„ html æ ‡ç­¾æ²¡æœ‰å»é™¤ï¼Œéœ€è¦ä½¿ç”¨ `pandoc` è½¬ `.docx`ï¼Œæˆ–è€…è½¬æˆ `markdown `æ¥æŠŠ``<br/>`` æ¢è¡Œç¬¦ä»¥åŠ `<p>` æ ‡ç­¾å»é™¤æ‰æ¢æˆ `\n` æ¢è¡Œç¬¦ã€‚
- æœ€ç»ˆå¾—åˆ° `.docx` ä¹‹åï¼Œä½¿ç”¨ `Calibre` å°† `.docx` è½¬æ¢æˆ Kindle æ”¯æŒçš„ `mobi` æ ¼å¼

## æ€ä¹ˆå¼„

### è·å–å„ç« èŠ‚çš„ URL

- `ctrl + s` å¦ä¿å­˜ `pass.html` è¿™ä¸ªç›®å½•é¡µçš„æºä»£ç ï¼Œæ‹¿åˆ°è¿™ä¸ªé¡µé¢çš„æºä»£ç ä¹‹åï¼Œä»”ç»†åˆ†æä¸€ä¸‹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªé¡µé¢çš„å„ä¸ªç« èŠ‚è¿˜æ˜¯æ¯”è¾ƒæœ‰è§„å¾‹çš„ã€‚é€šè¿‡ç®€å•çš„  grep å’Œ sed æ›¿æ¢å°±å¾ˆè½»æ¾åœ°æŠŠè¿™äº› URL æå–å‡ºæ¥ã€‚

```html
<div class="chapters">
<a alt="åº" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35056fec85e5b101448.html">åº</a>
<a alt="01 çŠ¯ç½ªç³»æ•°" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35156fec85e5b101449.html">01 çŠ¯ç½ªç³»æ•°</a>
<a alt="02 æœ‰èƒ½è€…" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35156fec85e5b10144a.html">02 æœ‰èƒ½è€…</a>
<a alt="03 é¥²è‚²çš„ä½œæ³•" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35156fec85e5b10144b.html">03 é¥²è‚²çš„ä½œæ³•</a>
<a alt="04 è°éƒ½ä¸çŸ¥é“çš„ä½ çš„å‡é¢" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35156fec85e5b10144c.html">04 è°éƒ½ä¸çŸ¥é“çš„ä½ çš„å‡é¢</a>
<a alt="05 æ— äººçŸ¥é“çš„ä½ çš„é¢å­”" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35156fec85e5b10144d.html">05 æ— äººçŸ¥é“çš„ä½ çš„é¢å­”</a>
<a alt="06 ç‹‚ç‹å­çš„å½’è¿˜" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35156fec85e5b10144e.html">06 ç‹‚ç‹å­çš„å½’è¿˜</a>
<a alt="07 ç´«å…°çš„èŠ±è¯­" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b10144f.html">07 ç´«å…°çš„èŠ±è¯­</a>
<a alt="08 ä¹‹åæ˜¯ï¼Œæ²‰é»˜" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b101450.html">08 ä¹‹åæ˜¯ï¼Œæ²‰é»˜</a>
<a alt="09 ä¹å›­çš„æœå®" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b101451.html">09 ä¹å›­çš„æœå®</a>
<a alt="10 ç›åœŸæ’’æ‹‰çš„æ¸¸æˆ" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b101452.html">10 ç›åœŸæ’’æ‹‰çš„æ¸¸æˆ</a>
<a alt="11 åœ£è€…çš„æ™šé¤" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b101453.html">11 åœ£è€…çš„æ™šé¤</a>
</div>
</div>
<div class="volume volume_close">
<div class="volume_title" onclick="exchange_volume(this)">
ç¬¬äºŒå· ä¸‹
<i class="volume_expand"></i>
</div>
<div class="volume_info">
<img src="./PSYCHO-PASSå¿ƒç†æµ‹é‡è€…_è½»å°è¯´åœ¨çº¿é˜…è¯»_äº²å°è¯´ç½‘_files/1716.jpg" onerror="this.src=&#39;http:\/\/static.qinxiaoshuo.com:4000/bookimg/1716.jpg&#39;;this.onerror=null">
<span>ç¬¬äºŒå· ä¸‹</span>
</div>
<div class="chapters">
<a alt="XX æ¶ˆé€çš„æƒ…äººèŠ‚" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b101454.html">XX æ¶ˆé€çš„æƒ…äººèŠ‚</a>
<a alt="12 youthful days" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b101455.html">12 youthful days</a>
<a alt="13 æ·±æ¸Šæ¥çš„æ‹›å¾…" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b101456.html">13 æ·±æ¸Šæ¥çš„æ‹›å¾…</a>
<a alt="14 ç”œèœœçš„æ¯’" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b101457.html">14 ç”œèœœçš„æ¯’</a>
<a alt="15 ç¡«ç£ºæ´’è½çš„åŸå¸‚" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b101458.html">15 ç¡«ç£ºæ´’è½çš„åŸå¸‚</a>
<a alt="16 åˆ¶è£ä¹‹é—¨" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b101459.html">16 åˆ¶è£ä¹‹é—¨</a>
<a alt="17 é“çŸ³å¿ƒè‚ " href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b10145a.html">17 é“çŸ³å¿ƒè‚ </a>
<a alt="18 æ— æœä¹‹çº¦" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b10145b.html">18 æ— æœä¹‹çº¦</a>
<a alt="19 é€æ˜çš„å½±" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b10145c.html">19 é€æ˜çš„å½±</a>
<a alt="20 æ­£ä¹‰æ‰€åœ¨" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35456fec85e5b10145d.html">20 æ­£ä¹‰æ‰€åœ¨</a>
<a alt="21 è¡€çš„è¤’å¥–" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35456fec85e5b10145e.html">21 è¡€çš„è¤’å¥–</a>
<a alt="22 å®Œç¾çš„ä¸–ç•Œ" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35456fec85e5b10145f.html">22 å®Œç¾çš„ä¸–ç•Œ</a>
<a alt="å°¾å£°" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35456fec85e5b101460.html">å°¾å£°</a>
<a alt="å”ä¹‹æœå¿—æ©å’Œå…­åˆå†¢å¼¥ç”Ÿ" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35456fec85e5b101461.html">å”ä¹‹æœå¿—æ©å’Œå…­åˆå†¢å¼¥ç”Ÿ</a>
<a alt="æ¶›å£°å“å½»çš„æˆ¿é—´" href="http://www.qinxiaoshuo.com/read/0/1716/5d77d35456fec85e5b101462.html">æ¶›å£°å“å½»çš„æˆ¿é—´</a>
```

- å…¶ä¸­ `alt` æ˜¯è¿‡æ»¤å‡ºæ¯ä¸ªç« èŠ‚ `URL` è¡Œçš„å…³é”®å­—
- ä½¿ç”¨ `awk` æˆªå–å»æ‰ `html` æ ‡ç­¾ï¼Œåªä¿ç•™ `URL` 
- å…¶å®åº”è¯¥ç”¨æ­£åˆ™è¡¨è¾¾å¼æ¥æˆªå–è¿™äº› URL ï¼Œå“å’±å¤ªèœäº†ï¼Œä¹¦åˆ°ç”¨æ—¶æ–¹æ¨å°‘å•ŠğŸ˜¥ï¼Œæ­£åˆ™ä¸ä¼š `awk` æ¥å‡‘ğŸ˜‚

```bash
grep alt pass.html | awk -F "href=\"" '{print $2}'| awk -F "\"" '{print $1}'
http://www.qinxiaoshuo.com/read/0/1716/5d77d35056fec85e5b101448.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35156fec85e5b101449.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35156fec85e5b10144a.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35156fec85e5b10144b.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35156fec85e5b10144c.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35156fec85e5b10144d.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35156fec85e5b10144e.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b10144f.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b101450.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b101451.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b101452.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b101453.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b101454.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35256fec85e5b101455.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b101456.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b101457.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b101458.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b101459.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b10145a.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b10145b.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35356fec85e5b10145c.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35456fec85e5b10145d.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35456fec85e5b10145e.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35456fec85e5b10145f.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35456fec85e5b101460.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35456fec85e5b101461.html
http://www.qinxiaoshuo.com/read/0/1716/5d77d35456fec85e5b101462.html
```

### åˆ†æå„ä¸ªç« èŠ‚çš„æºç 

![image-20200103095824495](https://img.502.li/image-20200103095824495.png)

```html
<div id="chapter_content">
            ç¬¬ä¸€å· ä¸Š  åº<br/><br/>ç½‘è¯‘ç‰ˆ è½¬è‡ª è±†ç“£()<br/><br/>ç¿»è¯‘ï¼šã‚¯ãƒªãƒ¼ã‚ªã‚¦<br/><br/>â€¦â€¦â€¦â€¦â€¦â€¦â€¦â€¦
</div>
```

å¯è§ï¼Œæ¯ä¸ªç« èŠ‚çš„ä¸­æ–‡æ–‡æœ¬ï¼Œå…¨éƒ¨åœ¨ `<div id="chapter_content">` ï¼Œè€Œä¸”ä¸­æ–‡æ–‡æœ¬å…¨éƒ¨å‹ç¼©åœ¨äº†ä¸€è¡Œé‡Œï¼Œå¯ä»¥é€šè¿‡ ``<br/><br/>`` è¿™ä¸ªå…³é”®å­—æ¥è¿‡æ»¤å‡ºè¿™ä¸€è¡Œä¸­æ–‡æ–‡æœ¬ã€‚

```bash
curl http://www.qinxiaoshuo.com/read/0/1716/5d77d35056fec85e5b101448.html | grep "<br/><br/>"
```

![image-20200103100302697](https://img.502.li/image-20200103100302697.png)

### éå†å„ä¸ªç« èŠ‚

```bash
â•­â”€root@debian ~/book
â•°â”€$ grep alt pass.html | awk -F "href=\"" '{print $2}'| awk -F "\"" '{print $1}'> url.log
â•­â”€root@debian ~/book
â•°â”€$ for url in $(cat url.log);do curl ${url} | grep "<br/><br/>" >> pass_book.html;done
```

### æ·»åŠ  `<h2>` äºŒçº§æ ‡é¢˜

åœ¨æ¯ä¸€è¡Œçš„è¡Œé¦–æ·»åŠ ä¸€ä¸ª ``<h2>`` æ ‡ç­¾ï¼Œæ¥ç€ä½¿ç”¨ sed æ›¿æ¢æ¯ä¸€è¡Œç¬¬ä¸€ä¸ª `<br/><br/>` åŒ¹é…é¡¹ä¸º `<h2/>` ä¸€å®šè¦æ·»åŠ é—­åˆæ ‡ç­¾ï¼Œä¸ç„¶çš„è¯åœ¨è½¬æ¢æˆ markdown æˆ–è€… .docx æ—¶å€™ä¼šæŠŠè¿™ä¸€æ•´è¡Œå½“ä½œäºŒçº§æ ‡é¢˜ã€‚

```bash
sed -i 's/^/<h2>/g' pass_book.html
sed -i 's/<br\/><br\/>/<h2\/>/' pass_book.html
```

### è½¬æ¢ä¸º markdown æ ¼å¼

ä½¿ç”¨ `pandoc` è½¬ `markdown` çš„æ•ˆæœå¾ˆä¸ç†æƒ³ï¼Œå…¶ä¸­æœ‰å¤§é‡çš„ `\` éœ€è¦åˆ é™¤æ‰ï¼Œè¿˜æ˜¯è½¬ .docx çš„æ ¼å¼åˆé€‚ä¸€äº›ï¼Œè€Œä¸” `Calibre` ä¹Ÿæ”¯æŒ `.docx` æ ¼å¼

![image-20200103103719653](https://img.502.li/image-20200103103719653.png)

### è½¬ mobi æ ¼å¼

æ‰“å¼€ calibre å¯¼å…¥åˆšåˆšåˆ¶ä½œå¥½çš„ .docx æ–‡ä»¶ï¼Œç‚¹å‡» `è½¬æ¢ä¹¦ç±` é‚£é‡Œï¼Œæ ¹æ®å¯¹åº”çš„è®¾å¤‡è®¾ç½®å¥½å‚æ•°ã€‚

![image-20200103104121602](https://img.502.li/image-20200103104121602.png)

### åˆ¶ä½œå®Œæˆ

![image-20200103105014635](https://img.502.li/image-20200103105014635.png)

![image-20200103105027192](https://img.502.li/image-20200103105027192.png)

![image-20200103105034243](https://img.502.li/image-20200103105034243.png)

### æ•ˆæœ

![image-20200103104618047](https://img.502.li/image-20200103104618047.png)

### æ³¨æ„äº‹é¡¹

- ç”±äºæ€»å…±æ–‡æœ¬æœ‰ 20 ä¸‡å­—ï¼Œè½¬æ¢æˆ azw3 æ ¼å¼ä¼šå¡æ­» kindleï¼Œä¸çŸ¥é“ä»€ä¹ˆåŸå› ğŸ˜¥
- è¿˜æœ‰ä»€ä¹ˆæ›´å¥½çš„åŠæ³•è¯„è®ºåŒºäº¤æµä¸€å“ˆğŸ˜‚
